# MDX Features

MDX combines the **simplicity of Markdown** with the **power of React components**, creating a revolutionary writing experience for modern web development.

## What is MDX?

### The Concept

MDX allows you to write **JSX** directly in your **Markdown** documents:

```mdx
# Hello MDX!

This is regular Markdown content.

<CustomComponent prop="value">
  You can use React components directly!
</CustomComponent>

Back to regular Markdown.
```

### Why MDX?

- **Interactive content** within documentation
- **Reusable components** across documents
- **Dynamic data** integration
- **Rich media** embedding
- **Custom layouts** and styling

## Basic MDX Syntax

### Importing Components

```mdx
import { Button } from "./components/Button";
import Chart from "./components/Chart";

# My Document

Here's a custom button:

<Button variant="primary">Click me!</Button>

And here's a data visualization:

<Chart data={salesData} />
```

### Inline JSX

```mdx
# User Profile

Welcome back, <span className="highlight">{user.name}</span>!

Your account status: <Badge status={user.status} />

<UserStats loginCount={user.loginCount} lastLogin={user.lastLogin} />
```

### Expressions and Variables

```mdx
export const name = "John Doe";
export const age = 30;

# About {name}

I am {age} years old and I love coding!

Today's date: {new Date().toLocaleDateString()}

Random number: {Math.floor(Math.random() \* 100)}
```

## Advanced MDX Features

### Component Providers

````mdx
import { MDXProvider } from "@mdx-js/react";
import { CodeBlock, Image, Link } from "./components";

export const components = {
  code: CodeBlock,
  img: Image,
  a: Link,
};

<MDXProvider components={components}>
  # Document with Custom Components
  
  ![Example image](./image.jpg)
  
  ```javascript
  console.log('This uses custom CodeBlock');
````

[Custom link](https://example.com)

</MDXProvider>
```

### Layout Components

```mdx
import Layout from "./components/Layout";

export default Layout;

# Article Title

This content will be wrapped in the Layout component.

The layout can provide:

- Navigation
- Sidebar
- Footer
- SEO metadata
```

### Frontmatter Integration

```mdx
---
title: "Getting Started with MDX"
author: "Jane Doe"
date: "2024-01-15"
tags: ["mdx", "react", "markdown"]
---

import { ArticleHeader } from "./components";

<ArticleHeader
  title={frontMatter.title}
  author={frontMatter.author}
  date={frontMatter.date}
/>

# {frontMatter.title}

Content goes here...
```

## Practical MDX Components

### Interactive Code Examples

```mdx
import { CodePlayground } from "./components/CodePlayground";

# JavaScript Tutorial

Here's an interactive example:

<CodePlayground
  code={`
function greet(name) {
  return \`Hello, \${name}!\`;
}

console.log(greet('World'));
`}
language="javascript"
editable={true}
/>

Try modifying the code above!
```

### Data Visualizations

```mdx
import { BarChart, LineChart } from "./components/Charts";

# Sales Report

## Quarterly Results

<BarChart
  data={[
    { quarter: "Q1", sales: 100000 },
    { quarter: "Q2", sales: 120000 },
    { quarter: "Q3", sales: 110000 },
    { quarter: "Q4", sales: 140000 },
  ]}
/>

## Growth Trend

<LineChart data={monthlyGrowth} xAxis="month" yAxis="growth" color="#007acc" />
```

### Interactive Demos

```mdx
import { Demo, Slider, ColorPicker } from "./components";

# CSS Properties Demo

Experiment with different values:

<Demo>
  <Slider
    label="Border Radius"
    min={0}
    max={50}
    onChange={(value) => setBorderRadius(value)}
  />

  <ColorPicker
    label="Background Color"
    onChange={(color) => setBackgroundColor(color)}
  />

  <div
    style={{
      borderRadius: `${borderRadius}px`,
      backgroundColor: backgroundColor,
      padding: "20px",
      margin: "20px 0",
    }}
  >
    Preview Box
  </div>
</Demo>
```

### Form Components

```mdx
import { ContactForm, NewsletterSignup } from "./components";

# Get in Touch

Fill out the form below:

<ContactForm
  onSubmit={(data) => {
    console.log("Form submitted:", data);
    // Handle form submission
  }}
/>

## Stay Updated

<NewsletterSignup
  placeholder="Enter your email"
  buttonText="Subscribe"
  onSubscribe={(email) => {
    // Handle newsletter signup
  }}
/>
```

## MDX in Different Contexts

### Documentation Sites

```mdx
import { APIReference, CodeExample } from "./docs-components";

# API Documentation

## Authentication

<APIReference
  endpoint="/api/auth/login"
  method="POST"
  description="Authenticate user and return JWT token"
/>

### Example Request

<CodeExample 
  language="javascript"
  title="Login Request"
>
{`
const response = await fetch('/api/auth/login', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    email: 'user@example.com',
    password: 'password123'
  })
});

const data = await response.json();
console.log(data.token);
`}

</CodeExample>
```

### Blog Posts

```mdx
import { AuthorBio, ShareButtons, RelatedPosts } from "./blog-components";

---

title: "The Future of Web Development"
author: "tech-blogger"
publishDate: "2024-01-15"
tags: ["web-dev", "future", "technology"]

---

# {frontMatter.title}

<AuthorBio author={frontMatter.author} />

The web development landscape is constantly evolving...

<ShareButtons
  url={typeof window !== "undefined" ? window.location.href : ""}
  title={frontMatter.title}
/>

<RelatedPosts tags={frontMatter.tags} />
```

### Educational Content

```mdx
import { Quiz, ProgressTracker, VideoEmbed } from "./education-components";

# React Hooks Tutorial

<ProgressTracker currentStep={3} totalSteps={10} />

## useState Hook

Watch this explanation:

<VideoEmbed
  src="https://youtube.com/embed/example"
  title="useState Hook Explained"
/>

### Key Concepts

1. **State management** in functional components
2. **Re-rendering** triggers
3. **Initial state** values

<Quiz
  question="What does useState return?"
  options={[
    "A single value",
    "An array with state and setter",
    "An object with state properties",
    "A function",
  ]}
  correctAnswer={1}
  explanation="useState returns an array with the current state value and a setter function."
/>
```

## Best Practices

### 1. Component Organization

```mdx
// Good: Organize imports at the top
import { Button, Card, Alert } from './components'
import { formatDate, calculateTotal } from './utils'

# Document Title

Content with organized imports...
```

### 2. Performance Considerations

```mdx
// Use dynamic imports for heavy components
import { lazy, Suspense } from 'react'

const HeavyChart = lazy(() => import('./components/HeavyChart'))

# Performance Report

<Suspense fallback={<div>Loading chart...</div>}>
  <HeavyChart data={largeDataset} />
</Suspense>
```

### 3. Error Boundaries

```mdx
import { ErrorBoundary } from "./components/ErrorBoundary";

# Interactive Content

<ErrorBoundary fallback={<div>Something went wrong</div>}>
  <ComplexInteractiveComponent />
</ErrorBoundary>
```

### 4. Accessibility

```mdx
import { AccessibleChart, ScreenReaderText } from "./components";

# Data Visualization

<AccessibleChart
  data={chartData}
  alt="Bar chart showing quarterly sales growth"
  description="Sales increased from $100k in Q1 to $140k in Q4"
/>

<ScreenReaderText>
  This chart shows a 40% increase in sales over the year.
</ScreenReaderText>
```

## MDX Configuration

### Basic Setup

```javascript
// mdx.config.js
import { defineConfig } from "@mdx-js/rollup";
import remarkGfm from "remark-gfm";
import rehypeHighlight from "rehype-highlight";

export default defineConfig({
  remarkPlugins: [remarkGfm],
  rehypePlugins: [rehypeHighlight],
  providerImportSource: "@mdx-js/react",
});
```

### Custom Components

```javascript
// components/mdx-components.js
import { CodeBlock } from "./CodeBlock";
import { Callout } from "./Callout";
import { VideoEmbed } from "./VideoEmbed";

export const mdxComponents = {
  // Override default elements
  code: CodeBlock,
  blockquote: Callout,

  // Add custom components
  VideoEmbed,

  // Wrapper component
  wrapper: ({ children }) => (
    <article className="prose prose-lg">{children}</article>
  ),
};
```

### Plugin Integration

```javascript
// Custom remark plugin
function remarkCustomPlugin() {
  return (tree) => {
    // Transform the MDX AST
    visit(tree, "text", (node) => {
      if (node.value.includes("TODO:")) {
        node.type = "jsx";
        node.value = `<TodoItem text="${node.value}" />`;
      }
    });
  };
}

export default defineConfig({
  remarkPlugins: [remarkGfm, remarkCustomPlugin],
  // ...
});
```

## Common Patterns

### Conditional Rendering

```mdx
export const isProduction = process.env.NODE_ENV === "production";

# Welcome to Our App

{isProduction ? (

<ProductionBanner />
) : (
<DevelopmentWarning />
)}

Content for all environments...
```

### Data Fetching

```mdx
export async function getStaticProps() {
  const data = await fetchBlogPosts();
  return { props: { posts: data } };
}

# Latest Blog Posts

{posts.map(post => (

<BlogCard
  key={post.id}
  title={post.title}
  excerpt={post.excerpt}
  date={post.publishDate}
/>
))}
```

### Theme Integration

```mdx
import { useTheme } from "./hooks/useTheme";

export function ThemeAwareComponent() {
  const { theme, toggleTheme } = useTheme();

  return (
    <div className={`content ${theme}`}>
      <button onClick={toggleTheme}>
        Switch to {theme === "dark" ? "light" : "dark"} mode
      </button>
    </div>
  );
}

# Dynamic Content

<ThemeAwareComponent />
```

## Limitations and Considerations

### 1. Build Complexity

- **Requires** build step (unlike plain Markdown)
- **Bundle size** increases with components
- **Development** setup more complex

### 2. Learning Curve

- **React knowledge** required
- **JSX syntax** understanding needed
- **Component lifecycle** awareness

### 3. Portability

- **Less portable** than standard Markdown
- **Platform-specific** component dependencies
- **Migration complexity** if changing systems

## MDX vs Alternatives

| Feature        | MDX    | Markdown  | React     |
| -------------- | ------ | --------- | --------- |
| Learning Curve | Medium | Low       | High      |
| Interactivity  | High   | None      | High      |
| Portability    | Medium | High      | Low       |
| Performance    | Good   | Excellent | Good      |
| Flexibility    | High   | Low       | Very High |

MDX **bridges the gap** between simple content authoring and rich interactive experiences – perfect for modern documentation, blogs, and educational content!
